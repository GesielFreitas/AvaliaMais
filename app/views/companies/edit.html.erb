<%= render "navbar/navbar" %>
<section id="corpo-user">
  	<h1>Perfil da Empresa</h1><br>
  	<%= link_to 'Voltar para a página da empresa', @company, id: 'link-company-page'%>
	<div id='logo-update'>
	  	<% if @company.logo_file_name.blank? %>
			<%= image_tag("default_company_logo.png", :width => "125", :height => "125", :id => "image-company-edit") %>
		<%else%>
			<%= image_tag(@company.logo.url(:default), :width => "125", :height => "125", :id => "image-company-edit") %>
		<%end%>
		<%= form_for(:company, url: update_company_path, id: 'file-field') do |f| %>             	 <%= f.hidden_field :id, value: @company.id%>
			Selecione uma foto: <%= f.file_field :logo %>
	    	<td id="atualizar"><%= f.submit "Atualizar" %></td>
	    <% end %>
	</div>
	<section id="company-show-update">
		<table class="table">
	    	<tr class="editar-name">
	      		<td class="attribute-name">Nome</td>
	      		<td><%= @company.name %></td>
	      		<td ><a href="javascript: void(0);" id="show-name">Editar</a></td>
	    	</tr>
	    	<tr id="nome-update" class="user-infos">
	          	<%= form_for(:company, url: update_company_path)do |f| %>
	          		<%= f.hidden_field :id, value: @company.id%>
	             	<td class="form-update"></td>
	            	<td class="form-update"><%= f.text_field :name, class: 'form-control', :id => "name"%></td>
	            	<td id="atualizar"><%= f.submit "Atualizar" %></td>
	             <% end %>
	      	</tr>
	    	<tr>
	      		<td class="attribute-name">Categoria</td>
	      		<td><%= @company.segment.name %></td>
	       		<td class="no-editar">Editar</td>
	    	</tr>
	   		<tr >
	    	<td class="attribute-name">E-mail</td>
	     		<td><%= @company.email %></td>
	      		<td ><a href="javascript: void(0);" id="show-email">Editar</a></td>
	    	</tr>
	    	<tr id="email-update">
	      		<%= form_for(:company, url: update_company_path)do |f| %>
	             	<%= f.hidden_field :id, value: @company.id%>
	             	<td class="form-update"></td>
	            	<td class="form-update"><%= f.text_field :email, class: 'form-control', :id => "name"%></td>
	            	<td id="atualizar"><%= f.submit "Atualizar" %></td>
	             <% end %>
	    	</tr>
	    	<tr>
	    		<td class="attribute-name">Telefone</td>
	      		<td><%= @company.telephone %></td>
	       		<td ><a href="javascript: void(0);" id="show-telephone">Editar</a></td>
	    	</tr>
	     	<tr id="telephone-update">
	          	<%= form_for(:company, url: update_company_path)do |f| %>
	             	<%= f.hidden_field :id, value: @company.id%>
	             	<td class="form-update"></td>
	            	<td class="form-update"><%= f.text_field :telephone, class: 'form-control', :id => "name"%></td>
	            	<td id="atualizar"><%= f.submit "Atualizar" %></td>
	             <% end %>	      	
	    	</tr>
	    	<tr id="date-update">
	      		
	    	</tr>
	    	<tr>
	      		<td class="attribute-name">Descrição</td>
	      		<td><%= @company.description%></td>
	      		<td ><a href="javascript: void(0);" id="show-description">Editar</a></td>
	    	</tr>
	    	<tr id="description-update">
	          	<%= form_for(:company, url: update_company_path)do |f| %>
	             	<%= f.hidden_field :id, value: @company.id%>
	             	<td class="form-update"></td>
	            	<td class="form-update"><%= f.text_area :description, class: 'form-control', :id => "name"%></td>
	            	<td id="atualizar"><%= f.submit "Atualizar" %></td>
	             <% end %>	      	
	    	</tr>
	    	
	    </table>
	</section>
</section>
<script>

    var count = 0;

        $("#show-name").click(function(){
          $("#nome-update").toggle("slow");
          if(count == 0){
            $("#show-name").text("Cancelar");
            count = 1;
          }else{
            $("#show-name").text("Editar");
            count = 0;
          }
        });
        $("#show-email").click(function(){
          $("#email-update").toggle("slow");
          if(count == 0){
            $("#show-email").text("Cancelar");
            count = 1;
          }else{
            $("#show-email").text("Editar");
            count = 0;
          }
        });
        
        $("#show-telephone").click(function(){
          $("#telephone-update").toggle("slow");
          if(count == 0){
            $("#show-telephone").text("Cancelar");
            count = 1;
          }else{
            $("#show-telephone").text("Editar");
            count = 0;
          }
        }); 

        $("#show-description").click(function(){
        $("#description-update").toggle("slow");
        if(count == 0){
          $("#show-description").text("Cancelar");
          count = 1;
        }else{
          $("#show-description").text("Editar");
          count = 0;
        }
      }); 

</script>
</body>
